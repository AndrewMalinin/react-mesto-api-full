(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),o=n(13),i=n.n(o),r=n(9),c=(n(19),n(14)),u=n(7),l=n(2),p={name:"",about:"",avatar:n.p+"static/media/avatar-empty.7386cdfa.jpg"},d=s.a.createContext(p),h=n(3),m=n(4),j=function(){function t(e){var n=e.baseUrl,a=e.token;Object(h.a)(this,t),this._baseUrl=n,this._token=a}return Object(m.a)(t,[{key:"_sendRequest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={method:e,headers:{authorization:"Bearer "+this._token,"Content-Type":"application/json"},mode:"cors"},s=this._baseUrl+t;return 0!==Object.keys(n).length&&(a.body=JSON.stringify(n)),fetch(s,a).then((function(t){return t.ok?t.json():Promise.reject()}))}},{key:"getUserInfo",value:function(){return this._sendRequest("/users/me")}},{key:"getCardSet",value:function(){return this._sendRequest("/cards")}},{key:"sendEditProfileRequest",value:function(t){var e=t.name,n=t.about;return this._sendRequest("/users/me","PATCH",{name:e,about:n})}},{key:"sendAddNewCardRequest",value:function(t){var e=t.name,n=t.link;return this._sendRequest("/cards","POST",{name:e,link:n})}},{key:"sendDeleteCardRequest",value:function(t){return this._sendRequest("/cards/".concat(t),"DELETE")}},{key:"sendPutLikeCardRequest",value:function(t){return this._sendRequest("/cards/".concat(t,"/likes"),"PUT")}},{key:"sendDeleteLikeCardRequest",value:function(t){return this._sendRequest("/cards/".concat(t,"/likes"),"DELETE")}},{key:"sendUpdateUserAvatarRequest",value:function(t){return this._sendRequest("/users/me/avatar","PATCH",{avatar:t})}}]),t}(),b=new j({baseUrl:"https://practicum.malinin-back.nomoredomains.xyz",token:localStorage.getItem("token")}),f=n(6),O=n(5),v=n(0),_=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"popup ".concat(this.props.isOpen?"popup_opened":""),id:"".concat(this.props.name,"-popup"),children:Object(v.jsxs)("div",{className:"popup__container",children:[Object(v.jsx)("button",{type:"button",className:"popup__close-button",onClick:this.props.onClose}),Object(v.jsxs)("form",{action:"#",className:"popup__form form",id:"".concat(this.props.name,"-form"),name:"".concat(this.props.name,"-form"),onSubmit:this.props.onSubmit,children:[Object(v.jsx)("h2",{className:"form__heading",children:this.props.title}),Object(v.jsx)("fieldset",{className:"form__input-container",children:this.props.children}),Object(v.jsx)("button",{type:"submit",className:"form__submit-button",children:this.props.submitButtonText})]})]})})}}]),n}(s.a.PureComponent),g=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).handleSubmit=function(t){t.preventDefault(),a.props.onAddPlace({name:a.state.title,link:a.state.photoLink})},a.handleTitleChange=function(t){a.setState({title:t.target.value})},a.handlePhotoLinkChange=function(t){a.setState({photoLink:t.target.value})},a.state={title:"",photoLink:""},a}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(_,{name:"add-card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",isOpen:this.props.isOpen,onClose:this.props.onClose,onSubmit:this.handleSubmit,submitButtonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:[Object(v.jsx)("input",{type:"text",className:"form__item",id:"title-input",name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"30",value:this.state.title,onChange:this.handleTitleChange}),Object(v.jsx)("span",{className:"form__input-error title-input-error"}),Object(v.jsx)("input",{type:"url",className:"form__item",id:"photo-link-input",name:"photo-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0,value:this.state.photoLink,onChange:this.handlePhotoLinkChange}),Object(v.jsx)("span",{className:"form__input-error photo-link-input-error"})]})}}]),n}(s.a.PureComponent),x=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).handleSubmit=function(t){t.preventDefault(),a.props.onUpdateAvatar({avatar:a.avatarLinkInput.current.value})},a.avatarLinkInput=s.a.createRef(),a}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(_,{name:"update-avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:this.props.isOpen,onClose:this.props.onClose,onSubmit:this.handleSubmit,submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(v.jsx)("input",{type:"url",className:"form__item",id:"avatar-link-input",name:"avatar-link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0430\u0442\u0430\u0440",required:!0,ref:this.avatarLinkInput}),Object(v.jsx)("span",{className:"form__input-error avatar-link-input-error"})]})}}]),n}(s.a.PureComponent),C=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).handleSubmit=function(t){t.preventDefault(),a.props.onUpdateUser({name:a.state.name,about:a.state.description})},a.handleNameChange=function(t){a.setState({name:t.target.value}),a.hasInteract=!0},a.handleDescriptionChange=function(t){a.setState({description:t.target.value}),a.hasInteract=!0},a.state={name:"",description:""},a.hasInteract=!1,a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.setState({name:this.context.name}),this.setState({description:this.context.about})}},{key:"componentDidUpdate",value:function(){""!==this.state.name||""!==this.state.description||this.hasInteract||(this.setState({name:this.context.name}),this.setState({description:this.context.about}))}},{key:"render",value:function(){return Object(v.jsxs)(_,{name:"edit-profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:this.props.isOpen,onClose:this.props.onClose,onSubmit:this.handleSubmit,submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(v.jsx)("input",{type:"text",className:"form__item",id:"name-input",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",required:!0,minLength:"2",maxLength:"40",value:this.state.name,onChange:this.handleNameChange}),Object(v.jsx)("span",{className:"form__input-error name-input-error"}),Object(v.jsx)("input",{type:"text",className:"form__item",id:"status-input",name:"status",placeholder:"\u041e \u0421\u0435\u0431\u0435",required:!0,minLength:"2",maxLength:"200",value:this.state.description,onChange:this.handleDescriptionChange}),Object(v.jsx)("span",{className:"form__input-error status-input-error"})]})}}]),n}(s.a.PureComponent);C.contextType=d;var k=function(t){return t.loggedIn?t.children:Object(v.jsx)(l.a,{to:"/signin"})},y=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsx)("footer",{className:"footer",children:Object(v.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Mesto Russia"})})}}]),n}(s.a.Component),N=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsx)("div",{className:"header__logo"}),Object(v.jsxs)("div",{className:"auth-info",children:[Object(v.jsx)("p",{className:"auth-info__email",children:this.props.userEmail}),Object(v.jsx)("button",{className:"auth-info__action-button button",onClick:this.props.onActionButtonClick,children:this.props.buttonText})]})]})}}]),n}(s.a.Component),S=n.p+"static/media/damaged-photo.c17a075c.jpg",T=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).handleCardImageLoadingError=function(t){t.target.src=S},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this.props.card?this.props.card.name:"",e=this.props.card?this.props.card.link:"";return Object(v.jsx)("div",{className:"popup ".concat(this.props.card?"popup_opened":""),id:"photo-popup",children:Object(v.jsxs)("div",{className:"popup__container",children:[Object(v.jsx)("button",{type:"button",className:"popup__close-button",onClick:this.props.onClose}),Object(v.jsx)("img",{src:e,alt:t,className:"popup__photo",onError:this.handleCardImageLoadingError}),Object(v.jsx)("h2",{className:"popup__photo-title",children:t})]})})}}]),n}(s.a.Component),w=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).handleClick=function(){t.props.onCardClick(t.props.card)},t.handleCardImageLoadingError=function(t){t.target.src=S},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this,e=this.props.card.owner===this.context._id,n=this.props.card.likes.some((function(e){return e===t.context._id}));return Object(v.jsxs)("article",{className:"photo-card",children:[e&&Object(v.jsx)("button",{type:"button",className:"photo-card__delete-button delete-button",onClick:function(){t.props.onCardDelete(t.props.card)}}),Object(v.jsx)("img",{src:this.props.card.link,alt:this.props.card.name,className:"photo-card__photo",onError:this.handleCardImageLoadingError,onClick:this.handleClick}),Object(v.jsxs)("div",{className:"photo-card__info",children:[Object(v.jsx)("h2",{className:"photo-card__title",children:this.props.card.name}),Object(v.jsxs)("div",{className:"photo-card__likes",children:[Object(v.jsx)("button",{type:"button",className:"photo-card__like-button like-button ".concat(n?"like-button_filled":""),onClick:function(){t.props.onCardLike(t.props.card)}}),Object(v.jsx)("p",{className:"photo-card__likes-counter",children:this.props.card.likes.length})]})]})]})}}]),n}(s.a.Component);w.contextType=d;var P=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).handleCardClick=function(e){t.props.onCardClick(e)},t}return Object(m.a)(n,[{key:"render",value:function(){var t=this;return Object(v.jsxs)("main",{className:"content",children:[Object(v.jsxs)("section",{className:"profile",children:[Object(v.jsxs)("div",{className:"profile__avatar-container",children:[Object(v.jsx)("img",{src:this.context.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"profile__avatar"}),Object(v.jsx)("div",{className:"profile__avatar-overlay",onClick:this.props.onEditAvatar})]}),Object(v.jsxs)("div",{className:"profile__info",children:[Object(v.jsxs)("div",{className:"profile__editable-parametr",children:[Object(v.jsx)("h1",{className:"profile__name",children:this.context.name}),Object(v.jsx)("button",{type:"button",className:"profile__edit-button edit-button",onClick:this.props.onEditProfile})]}),Object(v.jsx)("h2",{className:"profile__status",children:this.context.about})]}),Object(v.jsx)("button",{type:"button",className:"profile__add-button add-button",onClick:this.props.onAddPlace})]}),Object(v.jsx)("section",{className:"photo-cards",children:this.props.cards.map((function(e){return Object(v.jsx)(w,{card:e,onCardClick:t.handleCardClick,onCardLike:t.props.onCardLike,onCardDelete:t.props.onCardDelete},e._id)}))})]})}}]),n}(s.a.Component);P.contextType=d;var L="https://practicum.malinin-back.nomoredomains.xyz",E=function(){function t(){Object(h.a)(this,t)}return Object(m.a)(t,null,[{key:"register",value:function(t,e){return new Promise((function(n,a){fetch("".concat(L,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t}),mode:"cors"}).then((function(t){200===t.status||201===t.status?n(t.json()):400===t.status?a("Field isn't correct"):a("Undefined error")})).catch((function(t){a(t)}))}))}},{key:"authorize",value:function(t,e){return new Promise((function(n,a){fetch("".concat(L,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,email:t}),mode:"cors"}).then((function(t){if(200===t.status)return t.json();400===t.status?a("Field isn't correct"):401===t.status?a("User not found"):a("Undefined error")})).then((function(t){t.token&&(localStorage.setItem("token",t.token),n(t))})).catch((function(t){a(t)}))}))}},{key:"getContent",value:function(t){return new Promise((function(e,n){return fetch("".concat(L,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(t)},mode:"cors"}).then((function(t){200===t.status?e(t.json()):400===t.status?n("Wrong token format"):401===t.status?n("Token is incorrect"):n("Undefined error")})).catch((function(t){n(t)}))}))}}]),t}(),q=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).handleEmailChanged=function(t){a.setState({email:t.target.value})},a.handlePasswordChanged=function(t){a.setState({password:t.target.value})},a.handleSubmit=function(t){t.preventDefault(),a.state.email&&a.state.password&&E.authorize(a.state.email,a.state.password).then((function(t){t.token&&a.setState({email:"",password:""},(function(){a.props.onLogin()}))})).catch((function(t){return console.log(t)}))},a.state={email:"",password:""},a}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(){this.props.loggedIn&&this.props.onLogin()}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"auth-form-container",children:Object(v.jsxs)("form",{action:"#",className:"auth-form",id:"login-form",name:"login-form",onSubmit:this.handleSubmit,children:[Object(v.jsx)("h2",{className:"auth-form__heading",children:"\u0412\u0445\u043e\u0434"}),Object(v.jsxs)("fieldset",{className:"auth-form__input-container",children:[Object(v.jsx)("input",{type:"email",className:"auth-form__item",id:"email-input",name:"email-input",placeholder:"Email",required:!0,value:this.state.email,onChange:this.handleEmailChanged}),Object(v.jsx)("span",{className:"auth-form__input-error email-input-error"}),Object(v.jsx)("input",{type:"password",className:"auth-form__item",id:"password-input",name:"password-input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,value:this.state.password,onChange:this.handlePasswordChanged}),Object(v.jsx)("span",{className:"auth-form__input-error password-input-error"})]}),Object(v.jsx)("button",{type:"submit",className:"auth-form__submit-button",children:this.props.submitButtonText})]})})}}]),n}(s.a.Component),R=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"popup ".concat(this.props.isOpen?"popup_opened":""),id:"info-tooltip-popup",children:Object(v.jsxs)("div",{className:"popup__container",children:[Object(v.jsx)("button",{type:"button",className:"popup__close-button",onClick:this.props.onClose}),Object(v.jsxs)("div",{className:"info-tooltip",children:[Object(v.jsx)("div",{className:"info-tooltip__icon info-tooltip__icon_".concat(this.props.type)}),Object(v.jsx)("p",{className:"info-tooltip__description",children:this.props.description})]})]})})}}]),n}(s.a.Component),I=function(t){Object(f.a)(n,t);var e=Object(O.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).handleEmailChanged=function(t){a.setState({email:t.target.value})},a.handlePasswordChanged=function(t){a.setState({password:t.target.value})},a.handleSubmit=function(t){t.preventDefault(),E.register(a.state.email,a.state.password).then((function(t){if(!t)throw new Error("response from server is not a valid");a.setState({email:"",password:""},(function(){a.setState({isRegisterSuccess:!0}),a.setState({isInfoTooltipOpen:!0}),a.setState({infoTooltipDescription:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"}),a.setState({infoTooltipType:"success"})}))})).catch((function(){a.setState({isRegisterSuccess:!1}),a.setState({isInfoTooltipOpen:!0}),a.setState({infoTooltipDescription:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),a.setState({infoTooltipType:"error"})}))},a.handleTooltipClose=function(){a.setState({isInfoTooltipOpen:!1}),a.state.isRegisterSuccess&&a.props.onRegister()},a.state={isRegisterSuccess:!1,email:"",password:"",isInfoTooltipOpen:!1,infoTooltipDescription:"error",infoTooltipType:""},a}return Object(m.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"auth-form-container",children:Object(v.jsxs)("form",{action:"#",className:"auth-form",id:"register-form",name:"register-form",onSubmit:this.handleSubmit,children:[Object(v.jsx)("h2",{className:"auth-form__heading",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(v.jsxs)("fieldset",{className:"auth-form__input-container",children:[Object(v.jsx)("input",{type:"email",className:"auth-form__item",id:"email-input",name:"email-input",placeholder:"Email",required:!0,value:this.state.email,onChange:this.handleEmailChanged}),Object(v.jsx)("input",{type:"password",className:"auth-form__item",id:"password-input",name:"password-input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",required:!0,value:this.state.password,onChange:this.handlePasswordChanged})]}),Object(v.jsx)("button",{type:"submit",className:"auth-form__submit-button",children:this.props.submitButtonText}),Object(v.jsx)(r.b,{to:"/signin",className:"auth-form__sign-in-link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"}),Object(v.jsx)(R,{isOpen:this.state.isInfoTooltipOpen,type:this.state.infoTooltipType,description:this.state.infoTooltipDescription,onClose:this.handleTooltipClose})]})})}}]),n}(s.a.Component);function D(t){var e=Object(l.g)(),n=Object(l.f)(),a=s.a.useState(!1),o=Object(u.a)(a,2),i=o[0],r=o[1],h=s.a.useState([]),m=Object(u.a)(h,2),j=m[0],f=m[1],O=s.a.useState(""),_=Object(u.a)(O,2),S=_[0],w=_[1],L=s.a.useState(p),R=Object(u.a)(L,2),D=R[0],U=R[1],A=s.a.useState(!1),B=Object(u.a)(A,2),z=B[0],J=B[1],M=s.a.useState(!1),F=Object(u.a)(M,2),G=F[0],H=F[1],W=s.a.useState(!1),K=Object(u.a)(W,2),Q=K[0],V=K[1],X=s.a.useState(null),Y=Object(u.a)(X,2),Z=Y[0],$=Y[1],tt=s.a.useState(""),et=Object(u.a)(tt,2),nt=et[0],at=et[1],st=b;s.a.useEffect((function(){switch(n.pathname){case"/signin":return void at("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f");case"/signup":return void at("\u0412\u043e\u0439\u0442\u0438");case"/":return ot(),void at("\u0412\u044b\u0439\u0442\u0438")}}),[n]);var ot=function(){rt().then((function(){Promise.all([b.getUserInfo(),b.getCardSet()]).then((function(t){var e=Object(u.a)(t,2),n=e[0],a=e[1];U(n),f(a)})).catch((function(){console.log("\u041f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))}))},it=function(){localStorage.removeItem("token"),w(""),r(!1),e("/signin")},rt=function(){return new Promise((function(t,e){var n=localStorage.getItem("token");n&&E.getContent(n).then((function(n){n&&(r(!0),w(n.email),t()),e()})).catch((function(){console.log("\u041f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"),e()}))}))},ct=function(){V(!1),H(!1),J(!1),$(null)};return Object(v.jsx)(d.Provider,{value:D,children:Object(v.jsxs)("div",{className:"page",children:[Object(v.jsx)(N,{buttonText:nt,userEmail:S,onActionButtonClick:function(){switch(nt){case"\u0412\u043e\u0439\u0442\u0438":return void e("/signin");case"\u0412\u044b\u0439\u0442\u0438":return void it();case"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":return void e("/signup");default:return void console.log("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ".concat(nt))}}}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"*",element:Object(v.jsxs)(k,{loggedIn:i,children:[Object(v.jsx)(P,{cards:j,onEditProfile:function(){J(!z)},onAddPlace:function(){H(!G)},onEditAvatar:function(){V(!Q)},onCardClick:function(t){$(t)},onCardLike:function(t){(t.likes.some((function(t){return t===D._id}))?st.sendDeleteLikeCardRequest(t._id):st.sendPutLikeCardRequest(t._id)).then((function(e){f(j.map((function(n){return n._id===t._id?e:n})))})).catch((function(){console.log("\u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043b\u0430\u0439\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))},onCardDelete:function(t){st.sendDeleteCardRequest(t._id).then((function(){f(j.filter((function(e){return e._id!==t._id})))})).catch((function(){console.log("\u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))}}),Object(v.jsx)(y,{}),Object(v.jsx)(g,{isOpen:G,onClose:ct,onAddPlace:function(t){st.sendAddNewCardRequest(t).then((function(t){f([t].concat(Object(c.a)(j))),ct()})).catch((function(){console.log("\u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))}}),Object(v.jsx)(x,{isOpen:Q,onClose:ct,onUpdateAvatar:function(t){var e=t.avatar;st.sendUpdateUserAvatarRequest(e).then((function(t){U(t),ct()})).catch((function(){console.log("\u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043d\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))}}),Object(v.jsx)(T,{card:Z,onClose:ct}),Object(v.jsx)(C,{isOpen:z,onClose:ct,onUpdateUser:function(t){st.sendEditProfileRequest(t).then((function(t){U(t),ct()})).catch((function(){console.log("\u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043d\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430")}))},currentUser:D})]})}),Object(v.jsx)(l.b,{path:"/signup",element:Object(v.jsx)(I,{submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onRegister:function(){e("/signin")}})}),Object(v.jsx)(l.b,{path:"/signin",element:Object(v.jsx)(q,{submitButtonText:"\u0412\u043e\u0439\u0442\u0438",onLogin:function(){r(!0),e("/")},loggedIn:i})})]})]})})}i.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(r.a,{children:Object(v.jsx)(D,{})})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ebed895d.chunk.js.map